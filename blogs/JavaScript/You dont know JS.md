---
title: 《你不知道的JS》-读书笔记
time: 2022-6-27
tags:
 - JS
categories:
 -  JavaScript
---

## 1. 作用域和闭包

### 1.1 作用域是什么



### 1.2 词法作用域



### 1.3 函数作用域和块作用域

**函数作用域**：属于这个函数的全部变量都可以在整个函数的范围内使用及复用（事实上在嵌套的作用域中也可以使用）。

最小暴露原则：在软件设计中，应该最小限度地暴露必要内容，而将其他内容都“隐藏起来”。

* 规避同名标识符之间的冲突

区分函数声明和表达式的方法：看function关键字出现在声明中的位置。

* function(){}   声明
* (function(){})...  表达式

函数声明和表达式最重要的区别是它们的名称标识符绑定位置不同。

* 函数声明—绑定在所在作用域中
* 表达式—绑定在函数表达式自身的函数中，而不是所在作用域。即(function foo(){...})作为表达式意味着foo只能在...所代表的位置中被访问，外部作用域则不行。

**立即执行函数（IIFE）**

```js
var a = 2;
(function foo(){
    var a = 3;
    console.log(a); // 3
})
console.log(a);  // 2
```



由于函数被包含在一对()括号内部，因此成为了一个表达式，通过在末尾加上另外一个()可以立即执行这个函数。

**IIFE进阶用法**：当做函数调用并传递参数进去。

```js
var a = 2;
(function IIFE(global){
    var a = 3;
    console.log(a); //3
    console.log(global.a); // 2
})(window);
console.log(a); //2
//将window对象的引用传递进去。
```

**块作用域**

`let` 关键字可以将变量绑定到所在的任意作用域中，并且let进行的声明不会在块作用域中进行提升。声明的代码被运行之前，声明并不“存在”。